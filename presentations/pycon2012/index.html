<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8.1: http://docutils.sourceforge.net/" />
<meta name="version" content="S5 1.1" />
<title>New and Interesting in Standard Library</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<script src="ui/s5uthcode/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="ui/s5uthcode/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/s5uthcode/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/s5uthcode/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/s5uthcode/opera.css"
      type="text/css" media="projection" id="operaFix" />

<style type="text/css">
#currentSlide {display: none;}
</style>
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">

</div>
<div id="footer">
<h1>New and Interesting in Standard Library</h1>

</div>
</div>
<div class="presentation">
<div class="slide" id="slide0">
<h1 class="title">New and Interesting in Standard Library</h1>

<!-- -*- coding: utf-8 -*- -->
<!-- Definitions of interpreted text roles (classes) for S5/HTML data. -->
<!-- This data file has been placed in the public domain. -->
<!-- Colours
======= -->
<!-- Text Sizes
========== -->
<!-- Display in Slides (Presentation Mode) Only
========================================== -->
<!-- Display in Outline Mode Only
============================ -->
<!-- Display in Print Only
===================== -->
<!-- Display in Handout Mode Only
============================ -->
<!-- Incremental Display
=================== -->
<div class="handout sidebar">
<p class="first sidebar-title">Contents</p>
<div class="contents local last topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#python-3-3" id="id4">Python 3.3</a></li>
<li><a class="reference internal" href="#abc-module" id="id5">abc module</a></li>
<li><a class="reference internal" href="#array-module" id="id6">array module</a></li>
<li><a class="reference internal" href="#bz2-module" id="id7">bz2 module</a></li>
<li><a class="reference internal" href="#faulthandler" id="id8">faulthandler</a></li>
<li><a class="reference internal" href="#lzma" id="id9">lzma</a></li>
<li><a class="reference internal" href="#os-module" id="id10">os module</a></li>
<li><a class="reference internal" href="#packaging" id="id11">packaging</a></li>
<li><a class="reference internal" href="#shutil" id="id12">shutil</a></li>
<li><a class="reference internal" href="#signal-module" id="id13">signal module</a></li>
<li><a class="reference internal" href="#ssl-module" id="id14">ssl module</a></li>
<li><a class="reference internal" href="#sys-module" id="id15">sys module</a></li>
<li><a class="reference internal" href="#urllib-module" id="id16">urllib module</a></li>
<li><a class="reference internal" href="#python-3-2" id="id17">Python 3.2</a></li>
<li><a class="reference internal" href="#import-argparse" id="id18">import argparse</a></li>
<li><a class="reference internal" href="#logging-module-configuration-dictionary" id="id19">logging module - Configuration Dictionary.</a></li>
<li><a class="reference internal" href="#from-concurrent-import-futures" id="id20">from concurrent import futures</a></li>
<li><a class="reference internal" href="#pyc-directories" id="id21">pyc directories</a></li>
<li><a class="reference internal" href="#wsgi-1-1" id="id22">WSGI 1.1</a></li>
<li><a class="reference internal" href="#new-string-formatting-methods" id="id23">New string formatting methods</a></li>
<li><a class="reference internal" href="#functools" id="id24">functools</a></li>
<li><a class="reference internal" href="#id1" id="id25">functools</a></li>
<li><a class="reference internal" href="#id2" id="id26">functools</a></li>
<li><a class="reference internal" href="#itertools" id="id27">itertools</a></li>
<li><a class="reference internal" href="#collections" id="id28">collections</a></li>
<li><a class="reference internal" href="#id3" id="id29">collections</a></li>
<li><a class="reference internal" href="#threading" id="id30">threading</a></li>
<li><a class="reference internal" href="#ast-module" id="id31">ast module</a></li>
<li><a class="reference internal" href="#unicode-os-module" id="id32">unicode - os module</a></li>
<li><a class="reference internal" href="#unittest" id="id33">unittest</a></li>
<li><a class="reference internal" href="#urllib" id="id34">urllib</a></li>
<li><a class="reference internal" href="#python-2-7" id="id35">Python 2.7</a></li>
<li><a class="reference internal" href="#deprecation-warnings" id="id36">Deprecation Warnings</a></li>
<li><a class="reference internal" href="#x-backported-features" id="id37">3.x Backported Features</a></li>
<li><a class="reference internal" href="#dictionary-views" id="id38">Dictionary Views</a></li>
<li><a class="reference internal" href="#bug-fixes-in-modules" id="id39">Bug fixes in  modules</a></li>
<li><a class="reference internal" href="#there-is-more" id="id40">There is more</a></li>
</ul>
</div>
</div>
<div class="center small line-block">
<div class="line">What's new and interesting in Python Standard Library 2.7, 3.2 and 3.3</div>
</div>
<div class="center small line-block">
<div class="line"><strong>Senthil Kumaran</strong></div>
<div class="line">Python Core Developer</div>
<div class="line"><a class="reference external" href="mailto:senthil&#64;uthcode.com">senthil&#64;uthcode.com</a></div>
<div class="line"><a class="reference external" href="http://www.uthcode.com">http://www.uthcode.com</a></div>
</div>
<p class="handout">What is coming up new in Python 2.7, 3.2 and 3.3 versions</p>
<p class="handout">There are 3 versions of this presentation:</p>
<ul class="handout simple">
<li><a class="reference external" href="index.html">S5 presentation</a></li>
<li><a class="reference external" href="handout.html">Handout</a></li>
<li><a class="reference external" href="index.rst">reStructuredText source</a></li>
</ul>
<p class="handout">©2010, licensed under a <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
Attribution/Share-Alike (BY-SA) license</a>.</p>

</div>
<div class="slide" id="python-3-3">
<h1>Python 3.3</h1>
<p><em>At the moment</em></p>
<pre class="literal-block">
$python -q
&gt;&gt;&gt; import sys;sys.version
'3.3.0a0 (default:a92e73dfbff6, Mar 1 2012, 20:54:21)'
</pre>
</div>
<div class="slide" id="abc-module">
<h1>abc module</h1>
<ul class="simple">
<li>abc.abstractproperty has been deprecated, use <span class="incremental">property</span> with
abc.abstractmethod() instead.</li>
<li>abc.abstractclassmethod has been deprecated, use <span class="incremental">classmethod</span> with
abc.abstractmethod() instead.</li>
<li>abc.abstractstaticmethod has been deprecated, use <span class="incremental">staticmethod</span> with
abc.abstractmethod() instead.</li>
</ul>
</div>
<div class="slide" id="array-module">
<h1>array module</h1>
<ul class="simple">
<li>array module takes long long type.</li>
</ul>
</div>
<div class="slide" id="bz2-module">
<h1>bz2 module</h1>
<ul class="simple">
<li><span class="incremental">bz2.BZ2File</span> can now read from and write to arbitrary file-like objects, by
means of its constructor’s fileobj argument.</li>
<li><span class="incremental">bz2.BZ2File</span> and <span class="incremental">bz2.decompress()</span> can now decompress multi-stream inputs.
bz2.BZ2File can now also be used to create this type of file, using the 'a'
(append) mode.</li>
</ul>
</div>
<div class="slide" id="faulthandler">
<h1>faulthandler</h1>
<ul class="simple">
<li>New <span class="incremental">faulthandler</span> module.</li>
</ul>
<p>This module contains functions to dump Python tracebacks explicitly, on a
fault, after a timeout, or on a user signal. Call faulthandler.enable() to
install fault handlers for the SIGSEGV, SIGFPE, SIGABRT, SIGBUS, and SIGILL
signals.</p>
</div>
<div class="slide" id="lzma">
<h1>lzma</h1>
<ul class="simple">
<li>The newly-added lzma module provides data compression and decompression using
the LZMA algorithm, including support for the .xz and .lzma file formats.</li>
</ul>
</div>
<div class="slide" id="os-module">
<h1>os module</h1>
<ul class="simple">
<li>sendfile() function which provides an efficent “zero-copy” way for copying
data from one file (or socket) descriptor to another.</li>
<li>fwalk() function similar to walk() except that it also yields file
descriptors referring to the directories visited.</li>
</ul>
</div>
<div class="slide" id="packaging">
<h1>packaging</h1>
<ul class="simple">
<li>distutils module is called packaging, helper functions for building,
packaging, distributing and installing additional projects into a Python
installation.</li>
</ul>
</div>
<div class="slide" id="shutil">
<h1>shutil</h1>
<ul class="simple">
<li>shutil.disk_usage() - total, used and free disk space statistics.</li>
</ul>
</div>
<div class="slide" id="signal-module">
<h1>signal module</h1>
<ul class="simple">
<li>signal module has functions such as pthread_sigmask, pthread_kill, sigpending, sigwait, sigwaitinfo.</li>
<li>The signal handler writes the signal number as a single byte instead of a nul
byte into the wakeup file descriptor.</li>
<li>signal.signal() and signal.siginterrupt() raise an OSError, instead of a RuntimeError: OSError has an errno attribute.</li>
</ul>
</div>
<div class="slide" id="ssl-module">
<h1>ssl module</h1>
<ul class="simple">
<li>RAND_bytes(): generate cryptographically strong pseudo-random bytes.</li>
<li>RAND_pseudo_bytes(): generate pseudo-random bytes.</li>
<li>Query the SSL compression algorithm used by an SSL socket, thanks to its new compression() method.</li>
</ul>
</div>
<div class="slide" id="sys-module">
<h1>sys module</h1>
<ul class="simple">
<li>The sys module has a new <span class="incremental">thread_info</span> struct sequence holding informations
about the thread implementation.</li>
</ul>
</div>
<div class="slide" id="urllib-module">
<h1>urllib module</h1>
<ul class="simple">
<li>The Request class, now accepts a method argument used by get_method() to
determine what HTTP method should be used. For example, this will send a 'HEAD'
request.</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; urlopen(Request('http://www.python.org', method='HEAD'))
</pre>
</div>
<div class="slide" id="python-3-2">
<h1>Python 3.2</h1>
<ul class="simple">
<li>At the moment *</li>
</ul>
<dl class="docutils">
<dt>::</dt>
<dd>python
&gt;&gt;&gt; import sys; sys.version</dd>
</dl>
</div>
<div class="slide" id="import-argparse">
<h1>import argparse</h1>
<ul class="simple">
<li>There is an argparse command line parsing module included in stdlib.</li>
<li>argparse will be the future and optparse will slowly be deprecated.</li>
<li>Support for positional args, sub-commands, <strong>'required options'</strong>, pattern for specifying and validating options.</li>
<li>argparse has the ability to define subparsers, each with their own argument patterns and help displays:</li>
</ul>
<p class="handout">import argparse</p>
<dl class="handout docutils">
<dt>parser = argparse.ArgumentParser(</dt>
<dd>description = 'Manage servers',         # main description for help
epilog = 'Tested on Solaris and Linux') # displayed after help</dd>
<dt>parser.add_argument('action',                       # argument name</dt>
<dd>choices = ['deploy', 'start', 'stop'],  # three allowed values
help = 'action on each target')         # help msg</dd>
<dt>parser.add_argument('targets',</dt>
<dd>metavar = 'HOSTNAME',                   # var name used in help msg
nargs = '+',                            # require one or more targets
help = 'url for target machines')       # help msg explanation</dd>
<dt>parser.add_argument('-u', '--user',                 # -u or --user option</dt>
<dd>required = True,                        # make it a required argument
help = 'login as user')</dd>
</dl>
<p class="handout">print(parser.parse_args('-h'.split()))</p>
</div>
<div class="slide" id="logging-module-configuration-dictionary">
<h1>logging module - Configuration Dictionary.</h1>
<ul class="simple">
<li>The logging documentation has been augmented by a basic tutorial, an advanced tutorial, and a cookbook of logging recipes.</li>
<li><strong>logging.config.dictConfig()</strong> - logging configuration with plain Python dictionaries.</li>
</ul>
<pre class="literal-block">
with open('conf.json', 'r') as f:
        conf = json.load(f)
logging.config.dictConfig(conf)
</pre>
</div>
<div class="slide" id="from-concurrent-import-futures">
<h1>from concurrent import futures</h1>
<ul class="simple">
<li>Code for creating and managing concurrency is being collected in a new top-level namespace, concurrent</li>
<li>first package is <strong>futures</strong> high level interface for managing threads and processes.</li>
<li>Inspired by java.utils.concurrent and Future Object.</li>
<li>status checks (running or done), timeouts, cancellations, adding callbacks, and access to results or exceptions</li>
</ul>
<p class="handout">The primary offering of the new module is a pair of executor classes
for launching and managing calls. The goal of the executors is to make
it easier to use existing tools for making parallel calls. They save
the effort needed to setup a pool of resources, launch the calls,
create a results queue, add time-out handling, and limit the total
number of threads, processes, or remote procedure calls.</p>
<p class="handout">Ideally, each application should share a single executor across
multiple components so that process and thread limits can be centrally
managed. This solves the design challenge that arises when each
component has its own competing strategy for resource management.</p>
<p class="handout">Both classes share a common interface with three methods: submit() for
scheduling a callable and returning a Future object; map() for
scheduling many asynchronous calls at a time, and shutdown() for
freeing resources. The class is a context manager and can be used in a
with statement to assure that resources are automatically released when
currently pending futures are done executing.</p>
</div>
<div class="slide" id="pyc-directories">
<h1>pyc directories</h1>
<ul class="simple">
<li>Multiple implementations can refer to their own .pyc files.</li>
<li>mymodule.cpython-32.pyc, mymodule.cpython-33.pyc, and mymodule.unladen10.pyc</li>
<li>pyc files are now collected in a <strong>__pycache__</strong> directory stored under the package directory</li>
<li>Imported modules now have a __cached__ attribute which stores the name of the actual file that was imported</li>
<li>tag that is unique to each interpreter is accessible from the <strong>imp</strong> module</li>
</ul>
</div>
<div class="slide" id="wsgi-1-1">
<h1>WSGI 1.1</h1>
<ul class="simple">
<li>Well Intentioned Upgrade for WSGI to support Python3.</li>
<li>Informational PEP clarifies how bytes/text issues are to be handled by the WGSI protocol</li>
</ul>
</div>
<div class="slide" id="new-string-formatting-methods">
<h1>New string formatting methods</h1>
<ul class="simple">
<li><strong>str.format_map</strong></li>
<li>It can take dictionaries from defaultdict, shelve, ConfigParser, dbm.</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; import shelve
&gt;&gt;&gt; d = shelve.open('tmp.shl')
&gt;&gt;&gt; 'The {project_name} status is {status} as of {date}'.format_map(d)
'The testing project status is green as of February 15, 2011'

&gt;&gt;&gt; class PlaceholderDict(dict):
        def __missing__(self, key):
            return '&lt;{}&gt;'.format(key)
&gt;&gt;&gt; 'Hello {name}, welcome to {location}'.format_map(PlaceholderDict())
'Hello &lt;name&gt;, welcome to &lt;location&gt;'
</pre>
</div>
<div class="slide" id="functools">
<h1>functools</h1>
<ul class="simple">
<li>The functools module includes a new decorator for caching function calls.
<strong>functools.lru_cache()</strong> can save repeated queries to an external resource
whenever the results are expected to be the same.</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; import functools
&gt;&gt;&gt; &#64;functools.lru_cache(maxsize=300)
&gt;&gt;&gt; def get_phone_number(name):
        c = conn.cursor()
        c.execute('SELECT phonenumber FROM phonelist WHERE name=?', (name,))
        return c.fetchone()[0]
...
&gt;&gt;&gt; get_phone_number(name)        # cached lookup
</pre>
</div>
<div class="slide" id="id1">
<h1>functools</h1>
<ul class="simple">
<li>We have cache stats</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; get_phone_number.cache_info()
CacheInfo(hits=4805, misses=980, maxsize=300, currsize=300)
</pre>
<ul class="simple">
<li>OMG! Way to get unwrapped function.</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; get_phone_number = get_phone_number.__wrapped__    # uncached function
</pre>
</div>
<div class="slide" id="id2">
<h1>functools</h1>
<ul class="simple">
<li>functools.total_ordering - rich comparison methods, a new decorator functools.total_ordering() will use a existing equality and inequality methods to fill in the remaining methods.</li>
</ul>
<pre class="literal-block">
&#64;total_ordering
class Student:
    def __eq__(self, other):
        return ((self.lastname.lower(), self.firstname.lower()) ==
                (other.lastname.lower(), other.firstname.lower()))
    def __lt__(self, other):
        return ((self.lastname.lower(), self.firstname.lower()) &lt;
                (other.lastname.lower(), other.firstname.lower()))
</pre>
<ul class="simple">
<li>Magic happens.</li>
</ul>
</div>
<div class="slide" id="itertools">
<h1>itertools</h1>
<pre class="literal-block">
&gt;&gt;&gt; from itertools import accumulate
&gt;&gt;&gt; list(accumulate([8, 2, 50]))
[8, 10, 60]
</pre>
</div>
<div class="slide" id="collections">
<h1>collections</h1>
<ul class="simple">
<li>The collections.Counter class now has two forms of in-place subtraction, the existing -= operator for saturating subtraction and the new subtract() method for regular subtraction</li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Saturation_arithmetic">http://en.wikipedia.org/wiki/Saturation_arithmetic</a></li>
</ul>
</div>
<div class="slide" id="id3">
<h1>collections</h1>
<pre class="literal-block">
&gt;&gt;&gt; tally = Counter(dogs=5, cat=3)
&gt;&gt;&gt; tally -= Counter(dogs=2, cats=8)    # saturating subtraction
&gt;&gt;&gt; tally
Counter({'dogs': 3})

&gt;&gt;&gt; tally = Counter(dogs=5, cats=3)
&gt;&gt;&gt; tally.subtract(dogs=2, cats=8)      # regular subtraction
&gt;&gt;&gt; tally
Counter({'dogs': 3, 'cats': -5})
</pre>
</div>
<div class="slide" id="threading">
<h1>threading</h1>
<ul class="simple">
<li>The threading module has a new Barrier synchronization class for making
multiple threads wait until all of them have reached a common barrier point.</li>
</ul>
<pre class="literal-block">
from threading import Barrier, Thread

def get_votes(site):
    ballots = conduct_election(site)
    all_polls_closed.wait()        # do not count until all polls are closed
    totals = summarize(ballots)
    publish(site, totals)

all_polls_closed = Barrier(len(sites))
for site in sites:
    Thread(target=get_votes, args=(site,)).start()
</pre>
</div>
<div class="slide" id="ast-module">
<h1>ast module</h1>
<ul class="simple">
<li>The ast.literal_eval() function serves as a secure alternative to the builtin eval() function which is easily abused.</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; from ast import literal_eval
&gt;&gt;&gt; request = &quot;{'req': 3, 'func': 'pow', 'args': (2, 0.5)}&quot;
&gt;&gt;&gt; literal_eval(request)
{'args': (2, 0.5), 'req': 3, 'func': 'pow'}

&gt;&gt;&gt; request = &quot;os.system('do something harmful')&quot;
&gt;&gt;&gt; literal_eval(request)
Traceback (most recent call last):
  ...
ValueError: malformed node or string: &lt;_ast.Call object at 0x101739a10&gt;
</pre>
</div>
<div class="slide" id="unicode-os-module">
<h1>unicode - os module</h1>
<ul class="simple">
<li>The os module provides two new functions, fsencode() and fsdecode(), for encoding and decoding filenames based on file-system encoding.</li>
</ul>
</div>
<div class="slide" id="unittest">
<h1>unittest</h1>
<ul class="simple">
<li>improvements supporting test discovery for packages, easier experimentation at the interactive prompt</li>
</ul>
<dl class="docutils">
<dt>::</dt>
<dd>python -m unittest discover -s my_proj_dir -p _test.py</dd>
</dl>
<ul class="simple">
<li>Interactivity!</li>
</ul>
<pre class="literal-block">
&gt;&gt;&gt; TestCase().assertEqual(pow(2, 3), 8)
</pre>
</div>
<div class="slide" id="urllib">
<h1>urllib</h1>
<ul class="simple">
<li>The urlparse() function now supports IPv6 addresses as described in RFC 2732:</li>
<li>urlopen can take POST which can be an iterable.</li>
<li>http.client.HTTPSConnection, urllib.request.HTTPSHandler and urllib.request.urlopen() now take optional arguments to allow for server certificate checking against a set of Certificate Authorities, as recommended in public uses of HTTPS.</li>
</ul>
</div>
<div class="slide" id="python-2-7">
<h1>Python 2.7</h1>
<ul class="simple">
<li>Released in July, 2010.</li>
</ul>
<p><em>What's current version</em></p>
<ul class="simple">
<li>Improved unittest module.</li>
<li>Improved Decimal class.</li>
<li>Improvements in collections module.</li>
</ul>
</div>
<div class="slide" id="deprecation-warnings">
<h1>Deprecation Warnings</h1>
<ul class="simple">
<li>DeprecationWarning and its descendants are now ignored unless otherwise
requested, preventing users from seeing warnings triggered by an application.</li>
<li>Previous Python 2.x releases had <span class="incremental">DeprecationWarning</span> ON by default. Now,
since the path to upgrade is 3.x, those have been silenced unless explictly
requested.</li>
<li>You can re-enable display of DeprecationWarning messages by running Python
with the -Wdefault (short form: -Wd) switch, or by setting the PYTHONWARNINGS
environment variable to &quot;default&quot; (or &quot;d&quot;) before running Python.</li>
</ul>
</div>
<div class="slide" id="x-backported-features">
<h1>3.x Backported Features</h1>
<ul class="simple">
<li>The syntax for set literals ({1,2,3} is a mutable set).</li>
<li>Dictionary and set comprehensions ({i: i*2 for i in range(3)}).</li>
<li>Multiple context managers in a single with statement.</li>
<li>A new version of the io library, rewritten in C for performance.</li>
<li>The ordered-dictionary type described in PEP 372</li>
<li>The new &quot;,&quot; format specifier for Thousands Separator PEP 378</li>
<li>The memoryview object.</li>
<li>A small subset of the importlib module, described below.</li>
</ul>
</div>
<div class="slide" id="dictionary-views">
<h1>Dictionary Views</h1>
<ul class="simple">
<li>viewkeys(), viewvalues(), and viewitems() return an object called views.</li>
</ul>
</div>
<div class="slide" id="bug-fixes-in-modules">
<h1>Bug fixes in  modules</h1>
<ul class="simple">
<li><a class="reference external" href="http://docs.python.org/whatsnew/2.7.html#new-and-improved-modules">http://docs.python.org/whatsnew/2.7.html#new-and-improved-modules</a></li>
<li>2.7.x is the maintained bug fix release. All bug reports which have been
reported have found it's way to 2.7.x</li>
<li>Only new features do not make it to 2.7.</li>
<li>It's a stable release which can you to upgrade to Python 3.x</li>
</ul>
</div>
<div class="slide" id="there-is-more">
<h1>There is more</h1>
<ul class="simple">
<li><a class="reference external" href="http://docs.python.org/dev/whatsnew/3.3.html">http://docs.python.org/dev/whatsnew/3.3.html</a></li>
<li><a class="reference external" href="http://docs.python.org/dev/whatsnew/3.2.html">http://docs.python.org/dev/whatsnew/3.2.html</a></li>
<li><a class="reference external" href="http://docs.python.org/dev/whatsnew/2.7.html">http://docs.python.org/dev/whatsnew/2.7.html</a></li>
<li><strong>Misc/NEWS</strong> file.</li>
</ul>
<pre class="literal-block">
print('{0} {1}'.format('Thank',' you!'))
</pre>
</div>
</div>
</body>
</html>
